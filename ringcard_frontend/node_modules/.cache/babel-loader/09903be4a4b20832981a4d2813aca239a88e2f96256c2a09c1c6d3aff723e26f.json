{"ast":null,"code":"import _objectSpread from\"/Users/kiyujin/Dev/ringcard/ringcard_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/kiyujin/Dev/ringcard/ringcard_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kiyujin/Dev/ringcard/ringcard_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{useForm}from\"react-hook-form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AnswerForm(props){var questionId=String(props.questionId);var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return new Promise(function(r){return setTimeout(r,100);});case 2:// alert(JSON.stringify(data));\nconsole.log(data);// <AnswerCompletedPage questionId={questionId} />;\n_context.next=5;return axios.post(\"/question/\"+questionId+\"/unanswered/user\",JSON.stringify(data)).then(function(res){console.log(\"posthere\");console.log(data);}).catch(function(error){if(error.response){// The request was made and the server responded with a status code\n// that falls out of the range of 2xx\nconsole.log(error.response.data);console.log(error.response.status);console.log(error.response.headers);}else if(error.request){// The request was made but no response was received\n// `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n// http.ClientRequest in node.js\nconsole.log(error.request);}else{// Something happened in setting up the request that triggered an Error\nconsole.log('Error',error.message);}console.log(error.config);});case 5:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,_useForm$formState=_useForm.formState,isSubmitting=_useForm$formState.isSubmitting,isDirty=_useForm$formState.isDirty,errors=_useForm$formState.errors;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"answerAdd\",children:\"\\uB2F5\\uBCC0 \\uD3FC\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread({id:\"answerAdd\",placeholder:\"\\uB2F5\\uBCC0\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"},register(\"answerContents\",{required:\"답변이 입력되지 않았습니다.\"})))]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uB2F5\\uBCC0 \\uB4F1\\uB85D\"})})]});}export default AnswerForm;","map":{"version":3,"names":["axios","useForm","AnswerForm","props","questionId","String","onSubmit","data","Promise","r","setTimeout","console","log","post","JSON","stringify","then","res","catch","error","response","status","headers","request","message","config","register","handleSubmit","formState","isSubmitting","isDirty","errors","required"],"sources":["/Users/kiyujin/Dev/ringcard/ringcard_frontend/src/components/AnswerForm.tsx"],"sourcesContent":["import axios from \"axios\";\nimport { useForm } from \"react-hook-form\";\nimport AnswerCompletedPage from \"../pages/question/AnswerCompletedPage\";\n\nexport interface Props {\n\tquestionId: number;\n}\n\nfunction AnswerForm(props: Props) {\n\tconst questionId = String(props.questionId);\n\n\tconst onSubmit = async (data: any) => {\n\t\tawait new Promise((r) => setTimeout(r, 100));\n\n\t\t// alert(JSON.stringify(data));\n\t\tconsole.log(data);\n\n\n\t\t// <AnswerCompletedPage questionId={questionId} />;\n\n\t\tawait axios\n\t\t\t.post(\"/question/\" + questionId + \"/unanswered/user\", JSON.stringify(data))\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(\"posthere\");\n\t\t\t\tconsole.log(data);\n\n\t\t\t})\n\t\t\t.catch(function (error) {\n        if (error.response) {\n          // The request was made and the server responded with a status code\n          // that falls out of the range of 2xx\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          // The request was made but no response was received\n          // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n          // http.ClientRequest in node.js\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.log('Error', error.message);\n        }\n        console.log(error.config);\n      });\n\t};\n\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { isSubmitting, isDirty, errors },\n\t} = useForm();\n\n\treturn (\n\t\t<form onSubmit={handleSubmit(onSubmit)}>\n\t\t\t<div>\n\t\t\t\t<label htmlFor=\"answerAdd\">답변 폼</label>\n\t\t\t\t<textarea\n\t\t\t\t\tid=\"answerAdd\"\n\t\t\t\t\tplaceholder=\"답변을 입력하세요\"\n\t\t\t\t\t{...register(\"answerContents\", {\n\t\t\t\t\t\trequired: \"답변이 입력되지 않았습니다.\",\n\t\t\t\t\t})}\n\t\t\t\t></textarea>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">답변 등록</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n}\n\nexport default AnswerForm;\n"],"mappings":"wZAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,iBAAiB,CAAC,wFAO1C,QAASC,WAAU,CAACC,KAAY,CAAE,CACjC,GAAMC,WAAU,CAAGC,MAAM,CAACF,KAAK,CAACC,UAAU,CAAC,CAE3C,GAAME,SAAQ,4FAAG,iBAAOC,IAAS,0IAC1B,IAAIC,QAAO,CAAC,SAACC,CAAC,QAAKC,WAAU,CAACD,CAAC,CAAE,GAAG,CAAC,GAAC,QAE5C;AACAE,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC,CAGjB;AAAA,sBAEMP,MAAK,CACTa,IAAI,CAAC,YAAY,CAAGT,UAAU,CAAG,kBAAkB,CAAEU,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC,CAAC,CAC1ES,IAAI,CAAC,SAACC,GAAG,CAAK,CACdN,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CACvBD,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC,CAElB,CAAC,CAAC,CACDW,KAAK,CAAC,SAAUC,KAAK,CAAE,CACnB,GAAIA,KAAK,CAACC,QAAQ,CAAE,CAClB;AACA;AACAT,OAAO,CAACC,GAAG,CAACO,KAAK,CAACC,QAAQ,CAACb,IAAI,CAAC,CAChCI,OAAO,CAACC,GAAG,CAACO,KAAK,CAACC,QAAQ,CAACC,MAAM,CAAC,CAClCV,OAAO,CAACC,GAAG,CAACO,KAAK,CAACC,QAAQ,CAACE,OAAO,CAAC,CACrC,CAAC,IAAM,IAAIH,KAAK,CAACI,OAAO,CAAE,CACxB;AACA;AACA;AACAZ,OAAO,CAACC,GAAG,CAACO,KAAK,CAACI,OAAO,CAAC,CAC5B,CAAC,IAAM,CACL;AACAZ,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEO,KAAK,CAACK,OAAO,CAAC,CACrC,CACAb,OAAO,CAACC,GAAG,CAACO,KAAK,CAACM,MAAM,CAAC,CAC3B,CAAC,CAAC,uDACN,kBAlCKnB,SAAQ,4CAkCb,CAED,aAIIL,OAAO,EAAE,CAHZyB,QAAQ,UAARA,QAAQ,CACRC,YAAY,UAAZA,YAAY,6BACZC,SAAS,CAAIC,YAAY,oBAAZA,YAAY,CAAEC,OAAO,oBAAPA,OAAO,CAAEC,MAAM,oBAANA,MAAM,CAG3C,mBACC,cAAM,QAAQ,CAAEJ,YAAY,CAACrB,QAAQ,CAAE,wBACtC,oCACC,cAAO,OAAO,CAAC,WAAW,iCAAa,cACvC,+BACC,EAAE,CAAC,WAAW,CACd,WAAW,CAAC,mDAAW,EACnBoB,QAAQ,CAAC,gBAAgB,CAAE,CAC9BM,QAAQ,CAAE,iBACX,CAAC,CAAC,EACS,GACP,cACN,kCACC,eAAQ,IAAI,CAAC,QAAQ,uCAAe,EAC/B,GACA,CAET,CAEA,cAAe9B,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}