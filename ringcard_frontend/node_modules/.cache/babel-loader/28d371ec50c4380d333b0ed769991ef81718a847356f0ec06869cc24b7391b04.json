{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TimelineV2Paginator = exports.TwitterV2Paginator = void 0;\nconst includes_v2_helper_1 = require(\"../v2/includes.v2.helper\");\nconst TwitterPaginator_1 = require(\"./TwitterPaginator\");\n/** A generic PreviousableTwitterPaginator with common v2 helper methods. */\nclass TwitterV2Paginator extends TwitterPaginator_1.PreviousableTwitterPaginator {\n  updateIncludes(data) {\n    // Update errors\n    if (data.errors) {\n      if (!this._realData.errors) {\n        this._realData.errors = [];\n      }\n      this._realData.errors = [...this._realData.errors, ...data.errors];\n    }\n    // Update includes\n    if (!data.includes) {\n      return;\n    }\n    if (!this._realData.includes) {\n      this._realData.includes = {};\n    }\n    const includesRealData = this._realData.includes;\n    for (const [includeKey, includeArray] of Object.entries(data.includes)) {\n      if (!includesRealData[includeKey]) {\n        includesRealData[includeKey] = [];\n      }\n      includesRealData[includeKey] = [...includesRealData[includeKey], ...includeArray];\n    }\n  }\n  /** Throw if the current paginator is not usable. */\n  assertUsable() {\n    if (this.unusable) {\n      throw new Error('Unable to use this paginator to fetch more data, as it does not contain any metadata.' + ' Check .errors property for more details.');\n    }\n  }\n  get meta() {\n    return this._realData.meta;\n  }\n  get includes() {\n    var _a;\n    if (!((_a = this._realData) === null || _a === void 0 ? void 0 : _a.includes)) {\n      return new includes_v2_helper_1.TwitterV2IncludesHelper(this._realData);\n    }\n    if (this._includesInstance) {\n      return this._includesInstance;\n    }\n    return this._includesInstance = new includes_v2_helper_1.TwitterV2IncludesHelper(this._realData);\n  }\n  get errors() {\n    var _a;\n    return (_a = this._realData.errors) !== null && _a !== void 0 ? _a : [];\n  }\n  /** `true` if this paginator only contains error payload and no metadata found to consume data. */\n  get unusable() {\n    return this.errors.length > 0 && !this._realData.meta && !this._realData.data;\n  }\n}\nexports.TwitterV2Paginator = TwitterV2Paginator;\n/** A generic TwitterV2Paginator able to consume v2 timelines that use max_results and pagination tokens. */\nclass TimelineV2Paginator extends TwitterV2Paginator {\n  refreshInstanceFromResult(response, isNextPage) {\n    var _a;\n    const result = response.data;\n    const resultData = (_a = result.data) !== null && _a !== void 0 ? _a : [];\n    this._rateLimit = response.rateLimit;\n    if (!this._realData.data) {\n      this._realData.data = [];\n    }\n    if (isNextPage) {\n      this._realData.meta.result_count += result.meta.result_count;\n      this._realData.meta.next_token = result.meta.next_token;\n      this._realData.data.push(...resultData);\n    } else {\n      this._realData.meta.result_count += result.meta.result_count;\n      this._realData.meta.previous_token = result.meta.previous_token;\n      this._realData.data.unshift(...resultData);\n    }\n    this.updateIncludes(result);\n  }\n  getNextQueryParams(maxResults) {\n    this.assertUsable();\n    return {\n      ...this.injectQueryParams(maxResults),\n      pagination_token: this._realData.meta.next_token\n    };\n  }\n  getPreviousQueryParams(maxResults) {\n    this.assertUsable();\n    return {\n      ...this.injectQueryParams(maxResults),\n      pagination_token: this._realData.meta.previous_token\n    };\n  }\n  getPageLengthFromRequest(result) {\n    var _a, _b;\n    return (_b = (_a = result.data.data) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0;\n  }\n  isFetchLastOver(result) {\n    var _a;\n    return !((_a = result.data.data) === null || _a === void 0 ? void 0 : _a.length) || !this.canFetchNextPage(result.data);\n  }\n  canFetchNextPage(result) {\n    var _a;\n    return !!((_a = result.meta) === null || _a === void 0 ? void 0 : _a.next_token);\n  }\n}\nexports.TimelineV2Paginator = TimelineV2Paginator;","map":{"version":3,"names":["Object","defineProperty","exports","value","TimelineV2Paginator","TwitterV2Paginator","includes_v2_helper_1","require","TwitterPaginator_1","PreviousableTwitterPaginator","updateIncludes","data","errors","_realData","includes","includesRealData","includeKey","includeArray","entries","assertUsable","unusable","Error","meta","_a","TwitterV2IncludesHelper","_includesInstance","length","refreshInstanceFromResult","response","isNextPage","result","resultData","_rateLimit","rateLimit","result_count","next_token","push","previous_token","unshift","getNextQueryParams","maxResults","injectQueryParams","pagination_token","getPreviousQueryParams","getPageLengthFromRequest","_b","isFetchLastOver","canFetchNextPage"],"sources":["C:/Users/yuleg/Dev/Ringca/ORIN33/ringcard/ringcard_frontend/node_modules/twitter-api-v2/dist/paginators/v2.paginator.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimelineV2Paginator = exports.TwitterV2Paginator = void 0;\nconst includes_v2_helper_1 = require(\"../v2/includes.v2.helper\");\nconst TwitterPaginator_1 = require(\"./TwitterPaginator\");\n/** A generic PreviousableTwitterPaginator with common v2 helper methods. */\nclass TwitterV2Paginator extends TwitterPaginator_1.PreviousableTwitterPaginator {\n    updateIncludes(data) {\n        // Update errors\n        if (data.errors) {\n            if (!this._realData.errors) {\n                this._realData.errors = [];\n            }\n            this._realData.errors = [...this._realData.errors, ...data.errors];\n        }\n        // Update includes\n        if (!data.includes) {\n            return;\n        }\n        if (!this._realData.includes) {\n            this._realData.includes = {};\n        }\n        const includesRealData = this._realData.includes;\n        for (const [includeKey, includeArray] of Object.entries(data.includes)) {\n            if (!includesRealData[includeKey]) {\n                includesRealData[includeKey] = [];\n            }\n            includesRealData[includeKey] = [\n                ...includesRealData[includeKey],\n                ...includeArray,\n            ];\n        }\n    }\n    /** Throw if the current paginator is not usable. */\n    assertUsable() {\n        if (this.unusable) {\n            throw new Error('Unable to use this paginator to fetch more data, as it does not contain any metadata.' +\n                ' Check .errors property for more details.');\n        }\n    }\n    get meta() {\n        return this._realData.meta;\n    }\n    get includes() {\n        var _a;\n        if (!((_a = this._realData) === null || _a === void 0 ? void 0 : _a.includes)) {\n            return new includes_v2_helper_1.TwitterV2IncludesHelper(this._realData);\n        }\n        if (this._includesInstance) {\n            return this._includesInstance;\n        }\n        return this._includesInstance = new includes_v2_helper_1.TwitterV2IncludesHelper(this._realData);\n    }\n    get errors() {\n        var _a;\n        return (_a = this._realData.errors) !== null && _a !== void 0 ? _a : [];\n    }\n    /** `true` if this paginator only contains error payload and no metadata found to consume data. */\n    get unusable() {\n        return this.errors.length > 0 && !this._realData.meta && !this._realData.data;\n    }\n}\nexports.TwitterV2Paginator = TwitterV2Paginator;\n/** A generic TwitterV2Paginator able to consume v2 timelines that use max_results and pagination tokens. */\nclass TimelineV2Paginator extends TwitterV2Paginator {\n    refreshInstanceFromResult(response, isNextPage) {\n        var _a;\n        const result = response.data;\n        const resultData = (_a = result.data) !== null && _a !== void 0 ? _a : [];\n        this._rateLimit = response.rateLimit;\n        if (!this._realData.data) {\n            this._realData.data = [];\n        }\n        if (isNextPage) {\n            this._realData.meta.result_count += result.meta.result_count;\n            this._realData.meta.next_token = result.meta.next_token;\n            this._realData.data.push(...resultData);\n        }\n        else {\n            this._realData.meta.result_count += result.meta.result_count;\n            this._realData.meta.previous_token = result.meta.previous_token;\n            this._realData.data.unshift(...resultData);\n        }\n        this.updateIncludes(result);\n    }\n    getNextQueryParams(maxResults) {\n        this.assertUsable();\n        return {\n            ...this.injectQueryParams(maxResults),\n            pagination_token: this._realData.meta.next_token,\n        };\n    }\n    getPreviousQueryParams(maxResults) {\n        this.assertUsable();\n        return {\n            ...this.injectQueryParams(maxResults),\n            pagination_token: this._realData.meta.previous_token,\n        };\n    }\n    getPageLengthFromRequest(result) {\n        var _a, _b;\n        return (_b = (_a = result.data.data) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0;\n    }\n    isFetchLastOver(result) {\n        var _a;\n        return !((_a = result.data.data) === null || _a === void 0 ? void 0 : _a.length) || !this.canFetchNextPage(result.data);\n    }\n    canFetchNextPage(result) {\n        var _a;\n        return !!((_a = result.meta) === null || _a === void 0 ? void 0 : _a.next_token);\n    }\n}\nexports.TimelineV2Paginator = TimelineV2Paginator;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}